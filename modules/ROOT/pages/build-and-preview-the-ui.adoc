= UI 빌드 및 미리보기

== 미리보기 사이트 빌드

사이트 UI를 수정한 후 가장 먼저 하고 싶은 것은 어떻게 보이는지 확인하는 것입니다. __preview-src/__ 폴더의 파일들이 바로 그 용도입니다. 이 폴더에는 사이트의 대표적인 콘텐츠 샘플을 제공하는 HTML 파일 조각들이 포함되어 있습니다. 미리보기를 통해 UI를 테스트하기 위해 전체 사이트를 생성할 필요가 없습니다. 이 파일들은 실제 사이트에 UI를 적용했을 때 어떻게 보일지 아이디어를 제공합니다.

미리보기 사이트의 페이지들은 Handlebars 템플릿을 사용하여 조립되고 미리 컴파일된 에셋 파일들에 연결됩니다(사이트 생성기의 동작을 모방합니다). 따라서 이를 보려면 UI 빌드를 통해 실행해야 합니다.

두 가지 미리보기 모드가 있습니다. 빌드를 한 번 실행하고 결과를 검토하거나 변경 사항을 즉시 볼 수 있도록 빌드를 지속적으로 실행할 수 있습니다. 다음 두 섹션에서 이러한 모드의 사용 방법을 설명합니다.

=== 한 번 빌드하기

미리보기를 위해 UI를 한 번 빌드하고 멈추려면 다음 명령어를 실행하세요:

[source]
----
$ npx gulp preview:build
----

이 작업은 UI 파일들을 __public__ 디렉토리에 미리 컴파일합니다. 미리보기 페이지를 보려면 브라우저를 사용하여 __public__ 디렉토리의 HTML 페이지로 이동하세요(예: __public/index.html__).

=== 지속적으로 빌드하기

개발 중에 ``preview:build`` 작업을 반복해서 실행할 필요를 없애기 위해 ``preview`` 명령어를 대신 사용하여 지속적으로 실행할 수 있습니다. 이 작업은 또한 로컬 HTTP 서버를 실행하여 업데이트가 브라우저와 동기화되도록 합니다(즉, "실시간 리로드").

미리보기 서버를 실행하려면 다음 명령어를 실행하세요:

[source]
----
$ npx gulp preview
----

이 명령어의 출력에 URL이 표시됩니다:

[source]
----
[12:59:28] Starting 'preview:serve'...
[12:59:28] Starting server...
[12:59:28] Server started http://localhost:5252
[12:59:28] Running server
----

미리보기 사이트를 보려면 이 URL로 이동하세요. 이 명령어가 실행되는 동안 소스 파일을 변경하면 즉시 브라우저에 반영됩니다. 이는 프로젝트의 변경 사항을 모니터링하고, 변경이 감지되면 preview:build 작업을 실행하고, 업데이트를 브라우저로 전송하는 방식으로 작동합니다.

미리보기 서버를 중지하고 지속적인 빌드를 종료하려면 kbd:[Ctrl+C]를 누르세요.

== 미리보기용 패키지 만들기

로컬 개발에서 실제 사이트에 UI를 미리보기 하기 위해 UI를 번들로 만들어야 한다면 다음 명령어를 실행하세요:

[source]
----
$ npx gulp bundle
----

bundle 명령어는 또한 CSS와 JavaScript가 코딩 표준을 따르는지 확인하기 위해 lint 명령어를 호출합니다.

UI 번들은 build/ui-bundle.zip에서 사용할 수 있습니다. 그런 다음 --ui-bundle-url 명령줄 옵션을 사용하여 Antora가 이 번들을 가리키도록 할 수 있습니다.

미리보기가 실행 중이고 미리보기가 덮어쓰이지 않도록 번들을 만들고 싶다면 다음을 사용하세요:

[source]
----
$ npx gulp bundle:pack
----

UI 번들은 다시 build/ui-bundle.zip에서 사용할 수 있습니다.